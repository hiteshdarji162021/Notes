# What covered in notes

- dropdown Intreaction
- webtable handling using getByRole and old tredtionway using xpath


## Why learn?

- Dropdown interaction ‚Äì To reliably select user choices in forms and validate data without flaky index-based logic.
- Web table handling (getByRole vs XPath) ‚Äì To choose stable, accessible, and future-proof table automation instead of fragile DOM-dependent XPath.


## PART 1Ô∏è‚É£ Dropdown Automation (`<select>`)

### What is a Dropdown?
A dropdown is an HTML `<select>` element with multiple `<option>` values.

---

## 1Ô∏è‚É£ Select by **Visible Text** (BEST PRACTICE)

### Code
```ts
day.selectOption({ label: '2' });
month.selectOption({ label: 'Jun' });
year.selectOption({ label: '2014' });
```

### Output
- Day = 2
- Month = Jun
- Year = 2014

### When to use
- When visible text is stable
- Most readable and user-centric

‚≠ê **First preference**

---

## 2Ô∏è‚É£ Select by **Value Attribute**

### Code
```ts
day.selectOption('9');
month.selectOption('5');
year.selectOption('2020');
```

### Output
- Option matching `value` attribute is selected

### When to use
- When value attribute is stable
- Backend-driven dropdowns

‚≠ê **Second preference**

---

## 3Ô∏è‚É£ Select by **Index** (AVOID)

### Code
```ts
day.selectOption({ index: 2 });
month.selectOption({ index: 3 });
year.selectOption({ index: 4 });
```

### Output
- Option at given index is selected

### When to use
- Only when order NEVER changes

‚ùå Not recommended for long-term tests

---

## 4Ô∏è‚É£ Generic Dropdown Utility Functions

### Select by Value
```ts
async function selectByvalue(element: Locator, value: string): Promise<void> {
  await element.selectOption(value);
  await expect(element).toHaveValue(value);
}
```

### Select by Label
```ts
async function selectByLabel(element: Locator, value: string): Promise<void> {
  await element.selectOption({ label: value });
  const selectedValue = await element.inputValue();
  await expect(element).toHaveValue(selectedValue);
}
```

### Use case
- Reusable dropdown logic
- Cleaner test code

---

## PART 2Ô∏è‚É£ Web Table Automation

### What is a Web Table?
A web table is built using semantic HTML:
```html
<table>
  <thead>
    <tr>
      <th>Select</th>
      <th>Name</th>
      <th>Email</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><input type="checkbox" /></td>
      <td>Joe.Root</td>
      <td>joe@test.com</td>
    </tr>
  </tbody>
</table>
```

Playwright exposes this structure via **ARIA roles**.

---

## 5Ô∏è‚É£ `table` role

### Code
```ts
const table = page.getByRole('table');
await expect(table).toBeVisible();
```

### Output
- Table is located and visible

### Use case
- Validate table presence
- Scope all table operations

---

## 6Ô∏è‚É£ `row` role (MOST USED)

### Code
```ts
const row = page.getByRole('row', { name: 'Joe.Root' });
await expect(row).toBeVisible();
```

### Output
- Row containing "Joe.Root" is matched

### Use case
- Row-level actions
- Filtering rows by content

---

## 7Ô∏è‚É£ `cell` role (td)

### Code
```ts
const cell = page
  .getByRole('row', { name: 'Joe.Root' })
  .getByRole('cell', { name: 'joe@test.com' });

await expect(cell).toBeVisible();
```

### Output
- Email cell is validated

### Use case
- Validate specific column data

---

## 8Ô∏è‚É£ `columnheader` role (th)

### Code
```ts
await page.getByRole('columnheader', { name: 'Email' }).highlight();
```

### Output
- Email column header highlighted

### Use case
- Header validation
- Sorting verification

---

## 9Ô∏è‚É£ Combined Action: Row + Cell + Checkbox

### Code
```ts
await page
  .getByRole('row', { name: 'Joe.Root' })
  .getByRole('checkbox')
  .check();
```

### Output
- Checkbox for Joe.Root is checked

### Use case
- User selection
- Bulk actions

---

## üîü Iterate all rows (table scan)

### Code
```ts
const rows = page.getByRole('row');
const count = await rows.count();
console.log(count);
```

### Output
```text
5
```

### Use case
- Row count validation
- Pagination checks

---

## 1Ô∏è‚É£1Ô∏è‚É£ Read all cell values in a row

### Code
```ts
const cells = page
  .getByRole('row', { name: 'Joe.Root' })
  .getByRole('cell');

for (let i = 0; i < await cells.count(); i++) {
  console.log(await cells.nth(i).innerText());
}
```

### Output
```text
Joe.Root
joe@test.com
```

### Use case
- Data-driven assertions
- Export/compare table data

---

## 1Ô∏è‚É£2Ô∏è‚É£ Header ‚Üí Column relationship

### Code
```ts
const headers = page.getByRole('columnheader');
for (let i = 0; i < await headers.count(); i++) {
  console.log(await headers.nth(i).innerText());
}
```

### Output
```text
Select
Name
Email
```

### Use case
- Column presence & order validation

---

## ‚úÖ Best Practices (MANDATORY)

### Dropdowns
1Ô∏è‚É£ Prefer **label (visible text)**
2Ô∏è‚É£ Then value attribute
3Ô∏è‚É£ Avoid index

### Web Tables
1Ô∏è‚É£ Prefer semantic roles: `table`, `row`, `cell`, `columnheader`
2Ô∏è‚É£ Always scope actions from `row`
3Ô∏è‚É£ Avoid XPath sibling traversal
4Ô∏è‚É£ Build reusable table helpers



### Dropdowns
1Ô∏è‚É£ Prefer **label (visible text)**
2Ô∏è‚É£ Then value attribute
3Ô∏è‚É£ Avoid index

### Web Tables
1Ô∏è‚É£ Prefer `getByRole('row')`
2Ô∏è‚É£ Avoid sibling-based XPath
3Ô∏è‚É£ Use reusable helper methods

---

## Architect Golden Rule üèÜ

> **Automate what the user sees and interacts with, not the DOM structure.**

---