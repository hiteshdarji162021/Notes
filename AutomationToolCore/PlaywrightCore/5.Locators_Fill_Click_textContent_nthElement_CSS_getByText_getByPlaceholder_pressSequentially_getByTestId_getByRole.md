# What covered in notes

- locators
- fill()
- pressSequentially()
- click()
- textContent()
- first(), last(), nth()
- getByPlaceholder()
- getByRole()
- getByLabel()
- getByTitle()
- getByAltText()
- getByTestId()

## Why learn?

- Locators ‚Äì Used to reliably identify UI elements; good locators mean stable automation.
- fill() ‚Äì Fastest and most stable way to set input values directly.
- pressSequentially() ‚Äì Types like a real user, useful for masked or key-event driven inputs.
- click() ‚Äì Simulates real user interaction and triggers UI events correctly.
- textContent() ‚Äì Reads visible text from UI for validation and assertions.
- first() ‚Äì Selects the first matching element when multiple elements exist.
- last() ‚Äì Selects the last matching element in repeated UI components.
- nth() ‚Äì Targets a specific indexed element when multiple matches are present.
- getByPlaceholder() ‚Äì Locates input fields using placeholder text for clean form automation.
- getByRole() ‚Äì Finds elements by accessibility role, matching real user behavior.
- getByLabel() ‚Äì Targets form inputs through associated labels using semantic HTML.
- getByTitle() ‚Äì Locates elements using the title attribute, often for icons or images.
- getByAltText() ‚Äì Identifies images using alt text, supporting accessibility-based automation.
- getByTestId() ‚Äì Most stable locator using dev-owned attributes for long-term automation.

---

## 1. `locator()` ‚Äì CSS / XPath

### Example
```ts
const email = page.locator('#input-email');
await email.fill('user@gmail.com');
```

### Output
- Email field filled successfully

### Use case
- When **stable id / attribute exists**
- Preferred over XPath

### Avoid
```ts
page.locator('(//input)[3]'); // fragile
```

---

## 2. `fill()` ‚Äì Fast & Stable Input

### Example
```ts
await page.locator('#input-password').fill('Password@123');
```

### Output
- Clears field
- Sets full value instantly

### Use case
- Best for **normal input fields**
- Faster and more stable than typing

---

## 3. `pressSequentially()` ‚Äì Slow Typing

### Example
```ts
await email.pressSequentially('user@gmail.com', { delay: 200 });
```

### Output
- Types character by character

### Use case
- Masked inputs
- Apps with debounce / per-key validation

‚ö†Ô∏è Default delay = `0ms` if not provided

---

## 4. `click()` ‚Äì User Interaction

### Example
```ts
await page.locator("//input[@value='Login']").click();
```

### Output
- Login button clicked

### Use case
- Button, link, checkbox interaction

---

## 5. `textContent()` ‚Äì Read UI Text

### Example
```ts
const header = await page.getByText('My Account').first().textContent();
console.log(header);
```

### Output
```text
My Account
```

### Use case
- UI validation
- Assertion support

---

## 6. `first()` / `last()` / `nth()` ‚Äì Multiple Matching Elements

When **multiple elements match the same locator**, Playwright provides three safe ways to target them.

### Example HTML (same text repeated)
```html
<h2>My Account</h2>
<h2>My Account</h2>
<h2>My Account</h2>
```

---

### ‚úÖ `first()` ‚Äì pick first matching element

```ts
const headerFirst = await page.getByText('My Account').first().textContent();
console.log(headerFirst);
```

**Output**
```text
My Account
```

**Use case**
- When first occurrence is **functionally correct**
- Headers, breadcrumbs

---

### ‚úÖ `last()` ‚Äì pick last matching element

```ts
const headerLast = await page.getByText('My Account').last().textContent();
console.log(headerLast);
```

**Use case**
- Footer sections
- Repeated labels at bottom of page

---

### ‚úÖ `nth(index)` ‚Äì pick specific index (0-based)

```ts
const headerNth = await page.getByText('My Account').nth(1).textContent();
console.log(headerNth);
```

**Use case**
- Tables
- Lists
- Repeating cards

‚ö†Ô∏è Index starts from **0**

---

### ‚ùå What to avoid

```ts
page.locator('(//h2)[2]'); // fragile XPath
```

---

### Architect rule

> Use `first()` or `last()` when structure is stable. Use `nth()` only when position is guaranteed.

---


## 7. `getByText()` ‚Äì Visible Text

### Example
```ts
await page.getByText('Register').click();
```

### Use case
- Static text
- Headings, buttons, labels

‚ö†Ô∏è Breaks if text changes or localized

---

## 8. `getByPlaceholder()` ‚Äì Input Placeholder

### Example
```ts
await page.getByPlaceholder('First Name').fill('Hitesh');
```

### Use case
- Forms
- Registration pages

‚ö†Ô∏è Avoid if placeholder text changes

---

## 9. `getByRole()` ‚Äì Accessibility Driven

### Example
```ts
await page.getByRole('button', { name: 'Login' }).click();
```

### Use case
- Accessibility-compliant apps
- When ARIA labels are stable

---

## 10. `getByLabel()` ‚Äì Label Based Input

### Example
```ts
await page.getByLabel('Email Address').fill('user@gmail.com');
```

### Use case
- Proper `<label for>` association
- Clean forms

---

## 11. `getByTitle()` ‚Äì Title Attribute

### HTML
```html
<img title="naveenopencart" />
```

### Example
```ts
await page.getByTitle('naveenopencart').click();
```

### Use case
- Icons
- Images with title

---

## 12. `getByAltText()` ‚Äì Image Alt Text

### Example
```ts
await page.getByAltText('naveenopencart').click();
```

### Use case
- Logos
- Images

---

## 13. `getByTestId()` ‚Äì BEST PRACTICE ‚≠ê

### HTML
```html
<input data-testid="username-input" />
```

### Example
```ts
await page.getByTestId('username-input').fill('user@gmail.com');
```

### Output
- Most stable locator

### Use case
- When UI is dynamic
- Long-term automation

üìå **Dev-owned automation contract**

---

## Locator Priority Order (MANDATORY)

1Ô∏è‚É£ `getByTestId()`  
2Ô∏è‚É£ `getByRole()`  
3Ô∏è‚É£ `getByLabel()`  
4Ô∏è‚É£ `getByPlaceholder()`  
5Ô∏è‚É£ `getByText()`  
6Ô∏è‚É£ `CSS locator()`  
‚ùå XPath / index

---

## Architect Rule (One Line)

> Automation must depend on **stable contracts**, not UI appearance.

---

## 14. Best `getBy*` Locator Best Practices (MANDATORY)

This section defines **recommended Playwright locator usage** as a **QA‚ÄìDev quality contract**.

---

### ‚úÖ Preferred `getBy*` Locator Order (Best ‚Üí Worst)

| Priority | Locator | Why it is Best |
|---|---|---|
| ‚≠ê 1 | `getByTestId()` | Most stable, dev-owned, UI-independent |
| ‚≠ê 2 | `getByRole()` | Accessibility compliant, user-centric |
| ‚≠ê 3 | `getByLabel()` | Clean form automation, semantic HTML |
| ‚≠ê 4 | `getByPlaceholder()` | Quick form fill, readable |
| ‚≠ê 5 | `getByText()` | Easy validation, visible text |
| ‚ùå | XPath / index | Fragile, UI-change sensitive |

---

### 1Ô∏è‚É£ `getByTestId()` ‚Äì GOLD STANDARD ‚≠ê

#### HTML
```html
<input data-testid="username-input" />
```

#### Playwright
```ts
await page.getByTestId('username-input').fill('user@gmail.com');
```

#### Use case
- Dynamic UI
- Long-term automation
- CI stability

üìå **Ask developers to add `data-testid` for all critical elements**

---

### 2Ô∏è‚É£ `getByRole()` ‚Äì Accessibility Driven

#### HTML
```html
<button aria-label="Login">Login</button>
```

#### Playwright
```ts
await page.getByRole('button', { name: 'Login' }).click();
```

#### Use case
- Accessible apps
- When text is stable

‚ö†Ô∏è Avoid if UI text changes frequently

---

### 3Ô∏è‚É£ `getByLabel()` ‚Äì Form Best Practice

#### HTML
```html
<label for="email">Email Address</label>
<input id="email" />
```

#### Playwright
```ts
await page.getByLabel('Email Address').fill('user@gmail.com');
```

#### Use case
- Forms
- Clean HTML structure

---

### 4Ô∏è‚É£ `getByPlaceholder()` ‚Äì Quick Form Automation

#### HTML
```html
<input placeholder="First Name" />
```

#### Playwright
```ts
await page.getByPlaceholder('First Name').fill('Hitesh');
```

#### Use case
- Registration pages

‚ö†Ô∏è Breaks if placeholder text changes

---

### 5Ô∏è‚É£ `getByText()` ‚Äì Visible UI Content

#### HTML
```html
<h1>My Account</h1>
```

#### Playwright
```ts
await page.getByText('My Account').first().textContent();
```

#### Use case
- Headers
- Validation

‚ö†Ô∏è Avoid for critical flows

---

### ‚ùå What NOT to do

```ts
page.locator('(//button)[3]');
page.locator('.MuiButton-root-456');
```

Reasons:
- Breaks on UI change
- Causes flaky CI

---

### Architect Golden Rule üèÜ

> **Automation must rely on stable contracts (`data-testid`, roles), not UI appearance or position.**

---

## Final Recommendation

- Enforce `getByTestId()` as default
- Use `getByRole()` for accessibility-first apps
- Avoid XPath unless no alternative exists
- Treat locators as **part of system design**, not test code only

---

This section should be treated as **MANDATORY reading** for all QA and frontend developers.
