# Playwright Data Providers â€“ Array, JSON, CSV, Excel & Faker

This canvas is a **complete, industry-grade reference** for **Dataâ€‘Driven Testing in Playwright (TypeScript)**. It explains **HOW each data provider works internally**, **WHEN to use which**, **BEST practices**, and provides **working examples + outputs + use cases**, based exactly on your attached files (CSV, XLSX, JSON) and shared code.

---

## 0ï¸âƒ£ What is a Data Provider (Concept â€“ Same Everywhere)

A **data provider** means:
- One test logic
- Executed multiple times
- With different test data

Internally in Playwright:
â¡ Playwright does **NOT** provide data providers
â¡ Test runner executes tests generated via **loops / fixtures / parametrize**

---

## 1ï¸âƒ£ ARRAY Data Provider (Inâ€‘Memory)

### ğŸ“Œ Example Data
```ts
const loginData = [
  { username: 'hitesh@gmail.com', password: 'pass1' },
  { username: 'ronak@gmail.com', password: 'pass2' }
];
```

### ğŸ”¹ Test Implementation
```ts
for (const user of loginData) {
  test(`login ${user.username}`, async ({ page }) => {
    await page.goto('https://naveenautomationlabs.com/opencart/index.php?route=account/login');
    await page.fill('#input-email', user.username);
    await page.fill('#input-password', user.password);
    await page.click('input[value="Login"]');
  });
}
```

### ğŸ§  Internal Working
```
Array â†’ for loop â†’ multiple test registrations
```

### âœ… Use When
- Small data
- POC / demo
- Unitâ€‘style UI tests

### âŒ Avoid When
- Businessâ€‘driven data
- Nonâ€‘technical users manage data

---

## 2ï¸âƒ£ JSON Data Provider (BEST & MOST USED)

### ğŸ“Œ JSON File (regdata.json)
```json
[
  {
    "firstName": "hitesh",
    "lastname": "darji",
    "email": "hitesh@gmail.com",
    "telephone": "9876543210",
    "password": "9925472398@hH",
    "subscription": "Yes"
  },
  {
    "firstName": "ronak",
    "lastname": "patel",
    "email": "ronak@gmail.com",
    "telephone": "9876543210",
    "password": "9925472398@hH",
    "subscription": "No"
  }
]
```

### ğŸ”¹ BEST Approach (Direct Import)
```ts
import registrationData from '../regdata.json' assert { type: 'json' };

for (const user of registrationData) {
  test(`registration ${user.firstName}`, async ({ page }) => {
    // registration flow
  });
}
```

### ğŸ§  Internal Working
```
JSON file â†’ JS object array â†’ loop â†’ tests
```

### â­ Why BEST
- Clean
- Typeâ€‘safe
- No fs
- CIâ€‘friendly

### âŒ fs + JSON.parse (Avoid unless dynamic)
```ts
JSON.parse(fs.readFileSync('file.json','utfâ€‘8'));
```

---

## 3ï¸âƒ£ CSV Data Provider (Business Friendly)

### ğŸ“Œ CSV File (regdata.csv)
```
firstName,lastname,telephone,password,subscription
hitesh,darji,9876543210,9925472398@hH,Yes
ronak,patel,1234567890,9925472398@hH,No
```

### ğŸ”¹ Implementation
```ts
import fs from 'fs';
import { parse } from 'csv-parse/sync';

const fileContent = fs.readFileSync('./data/regdata.csv','utf-8');
const users = parse(fileContent,{ columns:true });

for (const user of users) {
  test(`registration ${user.firstName}`, async ({ page }) => {
    // registration flow
  });
}
```

### ğŸ§  Internal Working
```
CSV â†’ string â†’ parser â†’ array of objects
```

### âœ… Use When
- QA / BA maintain data
- Excelâ€‘like format
- Nonâ€‘developers edit data

### âŒ Avoid When
- Large files (performance)

---

## 4ï¸âƒ£ EXCEL (XLSX) Data Provider (Enterprise / Legacy)

### ğŸ“Œ Excel Sheet (users.xlsx)
Columns:
```
firstName | lastName | phone | password
```

### ğŸ”¹ Implementation
```ts
import XLSX from 'xlsx';

const workbook = XLSX.readFile('./data/users.xlsx');
const sheet = workbook.Sheets['register'];
const users = XLSX.utils.sheet_to_json(sheet);

for (let [index, user] of users.entries()) {
  const { firstName, lastName, phone, password } = user as any;

  test(`Registration user #${index+1}`, async ({ page }) => {
    // registration flow
  });
}
```

### ğŸ§  Internal Working
```
Excel â†’ Sheet â†’ JSON (array of objects)
```

### âœ… Use When
- Legacy systems
- Excelâ€‘driven QA
- Enterprise clients

### âŒ Avoid When
- CI speed matters
- Source control conflicts

---

## 5ï¸âƒ£ Faker Data Provider (Dynamic / Random Data)

### ğŸ”¹ Simple Faker
```ts
import { faker } from '@faker-js/faker';

test('single user registration', async ({ page }) => {
  const firstName = faker.person.firstName();
  const email = faker.internet.email();
});
```

### ğŸ”¹ Faker Utility Function (BEST)
```ts
function generateUser() {
  return {
    firstName: faker.person.firstName(),
    lastName: faker.person.lastName(),
    email: faker.internet.email(),
    telephone: faker.phone.number(),
    password: faker.internet.password()
  };
}
```

### ğŸ”¹ Multiple Users
```ts
for (let i=1;i<=5;i++){
  test(`Registration user #${i}`, async ({ page }) => {
    const user = generateUser();
  });
}
```

### ğŸ§  Internal Working
```
Faker â†’ random data â†’ runtime test
```

### âœ… Use When
- Unique data required
- Registration flows
- Antiâ€‘duplication

### âŒ Avoid When
- Exact assertions needed

---

## 6ï¸âƒ£ Comparison Table (IMPORTANT)

| Provider | Source Control | Speed | Maintainability | Best For |
|------|------|------|------|------|
| Array | âŒ | â­â­â­â­â­ | âŒ | Small tests |
| JSON | âœ… | â­â­â­â­ | â­â­â­â­â­ | MOST frameworks |
| CSV | âš ï¸ | â­â­â­ | â­â­â­ | Business data |
| Excel | âŒ | â­â­ | âŒ | Legacy clients |
| Faker | âŒ | â­â­â­â­â­ | â­â­â­â­ | Dynamic data |

---

## 7ï¸âƒ£ Industry Best Practice (FINAL RECOMMENDATION)

### âœ… Ideal Framework Strategy

```
Static scenarios   â†’ JSON
Dynamic scenarios  â†’ Faker
Small configs      â†’ Array
Business input     â†’ CSV
Legacy only        â†’ Excel
```

### ğŸš« Avoid
- Excel in CI
- fs.readFileSync for JSON
- Mixing data logic inside tests

---

## 8ï¸âƒ£ Interviewâ€‘Ready Oneâ€‘Liners

- Playwright does not have data providers; tests are generated programmatically
- JSON is the most stable and scalable data provider
- Faker is best for unique runtime data
- Excel should be avoided in CI pipelines

---

## âœ… Final Verdict

ğŸ‘‰ **JSON + Faker hybrid** is the **industry standard** for modern Playwright frameworks.


