# Playwright Data Providers ‚Äì Array, JSON, CSV, Excel & Faker

This canvas is a **complete, industry-grade reference** for **Data‚ÄëDriven Testing in Playwright (TypeScript)**. It explains **HOW each data provider works internally**, **WHEN to use which**, **BEST practices**, and provides **working examples + outputs + use cases**, based exactly on your attached files (CSV, XLSX, JSON) and shared code.

---

## 0Ô∏è‚É£ What is a Data Provider (Concept ‚Äì Same Everywhere)

A **data provider** means:
- One test logic
- Executed multiple times
- With different test data

Internally in Playwright:
‚û° Playwright does **NOT** provide data providers
‚û° Test runner executes tests generated via **loops / fixtures / parametrize**

---

## 1Ô∏è‚É£ ARRAY Data Provider (In‚ÄëMemory)

### üìå Example Data
```ts
const loginData = [
  { username: 'hitesh@gmail.com', password: 'pass1' },
  { username: 'ronak@gmail.com', password: 'pass2' }
];
```

### üîπ Test Implementation
```ts
for (const user of loginData) {
  test(`login ${user.username}`, async ({ page }) => {
    await page.goto('https://naveenautomationlabs.com/opencart/index.php?route=account/login');
    await page.fill('#input-email', user.username);
    await page.fill('#input-password', user.password);
    await page.click('input[value="Login"]');
  });
}
```

### üß† Internal Working
```
Array ‚Üí for loop ‚Üí multiple test registrations
```

### ‚úÖ Use When
- Small data
- POC / demo
- Unit‚Äëstyle UI tests

### ‚ùå Avoid When
- Business‚Äëdriven data
- Non‚Äëtechnical users manage data

---

## 2Ô∏è‚É£ JSON Data Provider (BEST & MOST USED)

### üìå JSON File (regdata.json)
```json
[
  {
    "firstName": "hitesh",
    "lastname": "darji",
    "email": "hitesh@gmail.com",
    "telephone": "9876543210",
    "password": "9925472398@hH",
    "subscription": "Yes"
  },
  {
    "firstName": "ronak",
    "lastname": "patel",
    "email": "ronak@gmail.com",
    "telephone": "9876543210",
    "password": "9925472398@hH",
    "subscription": "No"
  }
]
```

### üîπ BEST Approach (Direct Import)
```ts
import { test, expect } from "@playwright/test";
import fs from 'fs';

console.log("-------------------------------------------------------------------------");

//1.approch - import json and use its refrence
import registrationData1 from '../regdata.json' assert { type: 'json' };

console.log("-------------------------------------------------------------------------");

//2. apporch give Type and then JSON.Parse and use fs and all
type RegData = {
    firstName: string,
    lastname: string,
    email: string,
    telephone: string,
    password: string,
    subscription: string
}

let registrationData :RegData[] = JSON.parse(fs.readFileSync('./regdata.json', 'utf-8'));

console.log("-------------------------------------------------------------------------");


for (let user of registrationData1) {

    test(`registration ${user.firstName}`, async ({ page }) => {

        await page.goto('https://naveenautomationlabs.com/opencart/index.php?route=account/register');
        await page.getByRole('textbox', { name: 'First Name' }).fill(user.firstName);
        await page.getByRole('textbox', { name: 'Last Name' }).fill(user.lastname);
        await page.getByRole('textbox', { name: 'E-Mail' }).fill(getRandomEmail());
        await page.getByRole('textbox', { name: 'Telephone' }).fill(user.telephone);
        await page.getByRole('textbox', { name: 'Password' }).first().fill(user.password);
        await page.getByRole('textbox', { name: 'Password Confirm' }).fill(user.password);

        if (user.subscription === "Yes") {
            await page.getByRole('radio', { name: 'Yes'}).check();
        }
        else {
            await page.getByRole('radio', { name: 'No' }).check();
        }
        await page.locator('[name="agree"]').check();
        await page.getByRole('button', { name: 'Continue' }).click();

        await expect(page.getByText('Your Account Has Been Created!', { exact: true })).toBeVisible();

    })
}

function getRandomEmail() : string{
    let randomValue = Math.random().toString(36).substring(2, 9);
    return `auto_${randomValue}@nal.com`;
}


```

### üß† Internal Working
```
JSON file ‚Üí JS object array ‚Üí loop ‚Üí tests
```

### ‚≠ê Why BEST
- Clean
- Type‚Äësafe
- No fs
- CI‚Äëfriendly

### ‚ùå fs + JSON.parse (Avoid unless dynamic)
```ts
JSON.parse(fs.readFileSync('file.json','utf‚Äë8'));
```

---

## 3Ô∏è‚É£ CSV Data Provider (Business Friendly)

### üìå CSV File (regdata.csv)
```
firstName,lastname,telephone,password,subscription
hitesh,darji,9876543210,9925472398@hH,Yes
ronak,patel,1234567890,9925472398@hH,No
```

### üîπ Implementation
```ts
import { test, expect } from "@playwright/test";
import fs from 'fs';
import {parse} from 'csv-parse/sync';

type RegData = {
    firstName: string,
    lastname: string,
    email: string,
    telephone: string,
    password: string,
    subscription: string
}

let fileContent =  fs.readFileSync('./data/regdata.csv', 'utf-8')

let registrationData :RegData[] = parse(fileContent,{
    columns:true,
    skip_empty_lines:true
});

console.log("-------------------------------------------------------------------------");


for (let user of registrationData) {

    test(`registration ${user.firstName}`, async ({ page }) => {

        await page.goto('https://naveenautomationlabs.com/opencart/index.php?route=account/register');
        await page.getByRole('textbox', { name: 'First Name' }).fill(user.firstName);
        await page.getByRole('textbox', { name: 'Last Name' }).fill(user.lastname);
        await page.getByRole('textbox', { name: 'E-Mail' }).fill(getRandomEmail());
        await page.getByRole('textbox', { name: 'Telephone' }).fill(user.telephone);
        await page.getByRole('textbox', { name: 'Password' }).first().fill(user.password);
        await page.getByRole('textbox', { name: 'Password Confirm' }).fill(user.password);

        if (user.subscription === "Yes") {
            await page.getByRole('radio', { name: 'Yes'}).check();
        }
        else {
            await page.getByRole('radio', { name: 'No' }).check();
        }
        await page.locator('[name="agree"]').check();
        await page.getByRole('button', { name: 'Continue' }).click();

        await expect(page.getByText('Your Account Has Been Created!', { exact: true })).toBeVisible();

    })
}

function getRandomEmail() : string{
    let randomValue = Math.random().toString(36).substring(2, 9);
    return `auto_${randomValue}@nal.com`;
}

```

### üß† Internal Working
```
CSV ‚Üí string ‚Üí parser ‚Üí array of objects
```

### ‚úÖ Use When
- QA / BA maintain data
- Excel‚Äëlike format
- Non‚Äëdevelopers edit data

### ‚ùå Avoid When
- Large files (performance)

---

## 4Ô∏è‚É£ EXCEL (XLSX) Data Provider (Enterprise / Legacy)

### üìå Excel Sheet (users.xlsx)
Columns:
```
firstName | lastName | phone | password
```

### üîπ Implementation
```ts
import { test, expect } from '@playwright/test';
import XLSX from 'xlsx';


const workbook = XLSX.readFile('./data/users.xlsx');
const sheet = workbook.Sheets['register'];
const users = XLSX.utils.sheet_to_json(sheet);//excel data to JSON


for (let [index, user] of users.entries()) {
    let { firstName, lastName, phone, password } = user as any;

    test(`Registration of the user# ${index+1}: ${firstName}`, async ({ page }) => {
    //map the user object with JSON values:

    await page.goto('https://naveenautomationlabs.com/opencart/index.php?route=account/register');
    await page.getByRole('textbox', { name: 'First Name' }).fill(firstName);
    await page.getByRole('textbox', { name: 'Last Name' }).fill(lastName);
    await page.getByRole('textbox', { name: 'E-Mail' }).fill(getRandomEmail());
    await page.getByRole('textbox', { name: 'Telephone' }).fill(phone);
    await page.getByRole('textbox', { name: 'Password' }).first().fill(password);
    await page.getByRole('textbox', { name: 'Password Confirm' }).fill(password);
       
    await page.getByRole('radio', { name: 'Yes', checked: false }).click();
       
    await page.locator('[name="agree"]').click();
    await page.getByRole('button', { name: 'Continue' }).click();

    await expect(page.getByText('Your Account Has Been Created!', { exact: true })).toBeVisible();
    
    //await page.pause();
});
}

function getRandomEmail() : string{
    let randomValue = Math.random().toString(36).substring(2, 9);
    return `auto_${randomValue}@nal.com`;
}

```

### üß† Internal Working
```
Excel ‚Üí Sheet ‚Üí JSON (array of objects)
```

### ‚úÖ Use When
- Legacy systems
- Excel‚Äëdriven QA
- Enterprise clients

### ‚ùå Avoid When
- CI speed matters
- Source control conflicts

---

## 5Ô∏è‚É£ Faker Data Provider (Dynamic / Random Data)

### üîπ Simple Faker
```ts
import { faker } from '@faker-js/faker';

test('single user registration', async ({ page }) => {
  const firstName = faker.person.firstName();
  const email = faker.internet.email();
});
```

### üîπ Faker Utility Function (BEST)
### approch-1
```ts
import { test, expect } from '@playwright/test';
import { faker } from '@faker-js/faker';

test('registration of single user', async ({ page }) => {

    const firstName = faker.person.firstName();
    const lastName = faker.person.lastName();
    const email = faker.internet.email();
    const telephone = faker.phone.number();
    const password = faker.internet.password();

    await page.goto('https://naveenautomationlabs.com/opencart/index.php?route=account/register');
    await page.getByRole('textbox', { name: 'First Name' }).fill(firstName);
    await page.getByRole('textbox', { name: 'Last Name' }).fill(lastName);
    await page.getByRole('textbox', { name: 'E-Mail' }).fill(email);
    await page.getByRole('textbox', { name: 'Telephone' }).fill(telephone);
    await page.getByRole('textbox', { name: 'Password' }).first().fill(password);
    await page.getByRole('textbox', { name: 'Password Confirm' }).fill(password);
    await page.getByRole('radio', { name: 'Yes' }).check();
    await page.locator('[name="agree"]').check();
    await page.getByRole('button', { name: 'Continue' }).click();
    await expect(page.getByText('Your Account Has Been Created!', { exact: true })).toBeVisible();

})
```

### approch-2
```ts
function generateUser() {
    return {
        firstName : faker.person.firstName(),
        lastName : faker.person.lastName(),
        email : faker.internet.email({ firstName: 'Auto' }),
        telephone : faker.phone.number({ style: 'national' }),
        password : faker.internet.password({ length: 20, memorable: true, pattern: /[A-Z]/, prefix: 'Auto ' })
    };
}

test(`Registration of a single user with Faker generic utility`, async ({ page }) => {
     
    let user = generateUser();

    await page.goto('https://naveenautomationlabs.com/opencart/index.php?route=account/register');
    await page.getByRole('textbox', { name: 'First Name' }).fill(user.firstName);
    await page.getByRole('textbox', { name: 'Last Name' }).fill(user.lastName);
    await page.getByRole('textbox', { name: 'E-Mail' }).fill(user.email);
    await page.getByRole('textbox', { name: 'Telephone' }).fill(user.telephone);
    await page.getByRole('textbox', { name: 'Password' }).first().fill(user.password);
    await page.getByRole('textbox', { name: 'Password Confirm' }).fill(user.password);
       
    await page.getByRole('radio', { name: 'Yes', checked: false }).click();
       
    await page.locator('[name="agree"]').click();
    await page.getByRole('button', { name: 'Continue' }).click();

    await expect(page.getByText('Your Account Has Been Created!', { exact: true })).toBeVisible();
    
    await page.pause();
});
```

### üîπ Multiple Users

### Approch -1 while fix email domine
```ts
let userCount = 8;
for (let i = 1; i<=userCount; i++){
    test(`Registration of new user# ${i}`, async ({ page }) => {
     
        let user = {
                firstName : faker.person.firstName(),
                lastName : faker.person.lastName(),
                email : faker.internet.email({ firstName: 'Auto' }),
                telephone : faker.phone.number({ style: 'national' }),
                password : faker.internet.password({ length: 20, memorable: true, pattern: /[A-Z]/, prefix: 'Auto ' })
        }

    await page.goto('https://naveenautomationlabs.com/opencart/index.php?route=account/register');
    await page.getByRole('textbox', { name: 'First Name' }).fill(user.firstName);
    await page.getByRole('textbox', { name: 'Last Name' }).fill(user.lastName);
    await page.getByRole('textbox', { name: 'E-Mail' }).fill(user.email);
    await page.getByRole('textbox', { name: 'Telephone' }).fill(user.telephone);
    await page.getByRole('textbox', { name: 'Password' }).first().fill(user.password);
    await page.getByRole('textbox', { name: 'Password Confirm' }).fill(user.password);
       
    await page.getByRole('radio', { name: 'Yes', checked: false }).click();
       
    await page.locator('[name="agree"]').click();
    await page.getByRole('button', { name: 'Continue' }).click();

    await expect(page.getByText('Your Account Has Been Created!', { exact: true })).toBeVisible();
    
    //await page.pause();
});
}
```

### Approch -2 while multiple email domine
```ts
let totalUserCount = 5;
let emailDomains = ['gmail.com', 'yahoo.com', 'outlook.com', 'edu.com', 'icloud.com'];

for (let i = 1; i<=totalUserCount; i++){
    test(`Registration of the user# ${i}`, async ({ page }) => {
     
    const firstName = faker.person.firstName();
    const lastName = faker.person.lastName();
    const email = `${firstName.toLowerCase()}.${lastName.toLowerCase()}@${emailDomains[i-1]}`;
    const telephone = faker.phone.number({ style: 'national' });
    const password = faker.internet.password({ length: 20, memorable: true, pattern: /[A-Z]/, prefix: 'Auto ' });


    await page.goto('https://naveenautomationlabs.com/opencart/index.php?route=account/register');
    await page.getByRole('textbox', { name: 'First Name' }).fill(firstName);
    await page.getByRole('textbox', { name: 'Last Name' }).fill(lastName);
    await page.getByRole('textbox', { name: 'E-Mail' }).fill(email);
    await page.getByRole('textbox', { name: 'Telephone' }).fill(telephone);
    await page.getByRole('textbox', { name: 'Password' }).first().fill(password);
    await page.getByRole('textbox', { name: 'Password Confirm' }).fill(password);
       
    await page.getByRole('radio', { name: 'Yes', checked: false }).click();
       
    await page.locator('[name="agree"]').click();
    await page.getByRole('button', { name: 'Continue' }).click();

    await expect(page.getByText('Your Account Has Been Created!', { exact: true })).toBeVisible();
    
    //await page.pause();
});
}
```

### üß† Internal Working
```
Faker ‚Üí random data ‚Üí runtime test
```

### ‚úÖ Use When
- Unique data required
- Registration flows
- Anti‚Äëduplication

### ‚ùå Avoid When
- Exact assertions needed

---

## 6Ô∏è‚É£ Comparison Table (IMPORTANT)

| Provider | Source Control | Speed | Maintainability | Best For        |
| -------- | -------------- | ----- | --------------- | --------------- |
| Array    | ‚ùå              | ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê | ‚ùå               | Small tests     |
| JSON     | ‚úÖ              | ‚≠ê‚≠ê‚≠ê‚≠ê  | ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê           | MOST frameworks |
| CSV      | ‚ö†Ô∏è              | ‚≠ê‚≠ê‚≠ê   | ‚≠ê‚≠ê‚≠ê             | Business data   |
| Excel    | ‚ùå              | ‚≠ê‚≠ê    | ‚ùå               | Legacy clients  |
| Faker    | ‚ùå              | ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê | ‚≠ê‚≠ê‚≠ê‚≠ê            | Dynamic data    |

---

## 7Ô∏è‚É£ Industry Best Practice (FINAL RECOMMENDATION)

### ‚úÖ Ideal Framework Strategy

```
Static scenarios   ‚Üí JSON
Dynamic scenarios  ‚Üí Faker
Small configs      ‚Üí Array
Business input     ‚Üí CSV
Legacy only        ‚Üí Excel
```

### üö´ Avoid
- Excel in CI
- fs.readFileSync for JSON
- Mixing data logic inside tests

---

## 8Ô∏è‚É£ Interview‚ÄëReady One‚ÄëLiners

- Playwright does not have data providers; tests are generated programmatically
- JSON is the most stable and scalable data provider
- Faker is best for unique runtime data
- Excel should be avoided in CI pipelines

---

## ‚úÖ Final Verdict

üëâ **JSON + Faker hybrid** is the **industry standard** for modern Playwright frameworks.


